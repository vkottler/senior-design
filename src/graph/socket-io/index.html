<!doctype html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <title>Socket IO Telemetry</title>
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
        <script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>
        <link rel="stylesheet" href="main.css">
    </head>
    <body>

        <div>
            <h1 align="center">Quadcopter Telemetry</h1>
            <h>Server Status</h>
            <span id = "server_sign" float = "right" class="dot_server"></span>
            <br></br>
            <h>Data Status</h>
            <span id = "data_sign" float = "right" class="dot_data"></span>
        </div>

        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'Lidar_Gyro_Graphs')">Lidar/Gyro Graphs</button>
            <button class="tablinks" onclick="openTab(event, 'PID_Graphs')">PID Graphs</button>
            <button class="tablinks" onclick="openTab(event, 'ESC_Graphs')">ESC Graphs</button>
            <button class="tablinks" onclick="openTab(event, 'Raw Data')">All Raw Telem</button>
            <button class="tablinks" onclick="openTab(event, 'Manifest')">Channel Manifest</button>
            <button class="tablinks" onclick="openTab(event, 'Commanding')">Commanding</button>
        </div>

        <!-- Lidar/Gyro Graph Tab -->
        <div id="Lidar_Gyro_Graphs" class="tabcontent">
            <table cellspacing="0" style="width:100%" >
                <col width="50%">
                <tr>
                    <td> 
                        <div id="lidar_d1_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>Lidar (D1): <span name = "lidar_d1"></span></h>
                    </td>
                    <td>
                        <div id="gyroX_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>Gyro (X): <span name="gyro_x"></span></h>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="lidar_d2_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>Lidar (D2): <span name="lidar_d2"></span></h>
                    </td>
                    <td>
                        <div id="gyroY_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>Gyro (Y): <span name="gyro_y"></span></h>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <div id="gyroZ_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>Gyro (Z): <span name="gyro_z"></span></h>
                    </td>
                </tr>
            </table>
        </div>

        <!-- PID Graph Tab -->
        <div id="PID_Graphs" class="tabcontent">
            <div id="pidpitch_chartContainer" style="height: 250px; width: 100%;"></div>
            <h>PID Pitch: <span name = "pid_pitch"></span></h>
            <div id="pidyaw_chartContainer" style="height: 250px; width: 100%;"></div>
            <h>PID Yaw: <span name="pid_roll"></span></h>
            <div id="pidroll_chartContainer" style="height: 250px; width: 100%;"></div>
            <h>PID Roll: <span name="pid_yaw"></span></h>
        </div>
        
        <!-- ESC Graph Tab -->
        <div id="ESC_Graphs" class="tabcontent">
            <table cellspacing="0" style="width:100%" >
                <col width="50%">
                <tr>
                    <td> 
                        <div id="esc_front_left_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>ESC Front Left: <span name = "esc_front_left"></span></h>
                    </td>
                    <td>
                        <div id="esc_back_left_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>ESC Back Left: <span name="esc_back_left"></span></h>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div id="esc_front_right_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>ESC Front Right: <span name="esc_front_right"></span></h>
                    </td>
                    <td>
                        <div id="esc_back_right_chartContainer" style="height: 250px; width: 100%;"></div>
                        <h>ESC Back Right: <span name="esc_back_right"></span></h>
                    </td>
                </tr>
            </table>
        </div>

        <!-- All Telem Tab -->
        <div id="Raw Data" class="tabcontent">

            <table cellspacing="0" style="width:100%" >
                <col width="33%">
                <tr>
                    <td><h2> Lidar (m)</h2></td>
                    <td><h2> Gyro (deg/sec)</h2></td>
                    <td><h2> PID (deg/sec)</h2></td>
                </tr>
                <tr>
                  <td><h>Lidar (D1): <span name = "lidar_d1"></span></h></td>
                  <td><h>Gyro (X): <span name="gyro_x"></span></h></td>
                  <td><h>PID Pitch: <span name="pid_pitch"></span></h></td>
                </tr>
                <tr>
                    <td><h>Lidar (D2): <span name="lidar_d2"></span></h></td>
                    <td><h>Gyro (Y): <span name="gyro_y"></span></h></td>
                    <td><h>PID Roll: <span name="pid_roll"></span></h></td>
                </tr>
                <tr>
                    <td></td>
                    <td><h>Gyro (Z): <span name="gyro_z"></span></h></td>
                    <td><h>PID Yaw: <span name="pid_yaw"></span></h></td>
                </tr>
            </table>

            <br></br>
            <br></br>

            <table cellspacing="0" style="width:100%">
                <col width="33%">
                <tr>
                    <td><h2>ESC Values (percent)</h2></td>
                    <td><h2>Battery Voltage (Volts)</h2></td>
                    <td><h2>Battery Current (Amps)</h2></td>
                </tr>
                <tr>
                    <td><h>ESC Front Left: <span name="esc_front_left"></span></h></td>
                    <td><h>Battery Voltage Cell 1: <span name="batt_cell1"></span></h></td>
                    <td><h>Battery Current (AMPS): <span name="batt_current"></span></h></td>
                </tr>
                <tr>
                     <td><h>ESC Front Right: <span name="esc_front_right"></span></h></td>
                     <td><h>Battery Voltage Cell 2: <span name="batt_cell2"></span></h></td>
                </tr>
                <tr>
                    <td><h>ESC Back Left: <span name="esc_back_left"></span></h></td>
                    <td><h>Battery Voltage Cell 3: <span name="batt_cell3"></span></h></td>
                </tr>
                <tr>
                    <td><h>ESC Back Right: <span name="esc_back_right"></span></h></td>
                    <td><h>Battery Voltage Total: <span name="batt_total"></span></h></td>
                </tr>
            </table>

        </div>

        <!-- Channel Manifest Tab -->
        <div id="Manifest" class="tabcontent">
            <table cellspacing="0" style="width:100%" id="manifest_table">
                <tr>
                    <td><h2> Channel Index</h2></td>
                    <td><h2> Channel Type</h2></td>
                    <td><h2> Channel Size</h2></td>
                    <td><h2> Channel Name</h2></td>
                    <td><h2> Channel Units</h2></td>
                </tr>
            </table>
        </div>

        <!-- Commanding Tab -->
        <div id="Commanding" class="tabcontent">
            <iframe src="commanding/websocket_client.html"></iframe>
        </div>

        <script src="plotting.js"></script>
        <script src="main.js"></script>
    </body>
</html>
